{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/book-api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"./book-card/book-card.component\";\nimport * as i5 from \"./pipes/book-filter.pipe\";\n\nfunction BookComponent_app_book_card_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-book-card\", 2);\n    i0.ɵɵlistener(\"detailClick\", function BookComponent_app_book_card_3_Template_app_book_card_detailClick_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.goToBookDetails($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const book_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"content\", book_r1);\n  }\n}\n\nexport class BookComponent {\n  constructor(bookApiService, route) {\n    this.bookApiService = bookApiService;\n    this.route = route;\n    this.title = 'Interesting Books';\n    this.bookSearchTerm = '';\n    this.books = [];\n  }\n\n  ngOnDestroy() {//this.subscription?.unsubscribe();\n  }\n\n  ngOnInit() {\n    this.books$ = this.bookApiService.getAll();\n    /* this.subscription = this.bookApiService.getAll().subscribe({\r\n      next: (books: Book[]) => {this.books = books},\r\n      error: (error) => {console.error(error)},\r\n      complete: () => {},\r\n    }); */\n  }\n\n  goToBookDetails(book) {\n    this.route.navigate([`/books/:isbn`]);\n    console.table(book);\n  }\n\n  updateBookSearchTerm(input) {\n    this.bookSearchTerm = input.target.value;\n  }\n\n}\n\nBookComponent.ɵfac = function BookComponent_Factory(t) {\n  return new (t || BookComponent)(i0.ɵɵdirectiveInject(i1.BookApiService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nBookComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BookComponent,\n  selectors: [[\"app-book\"]],\n  decls: 6,\n  vars: 7,\n  consts: [[\"placeholder\", \"Filter your books..\", 1, \"book-filter\", 3, \"input\"], [3, \"content\", \"detailClick\", 4, \"ngFor\", \"ngForOf\"], [3, \"content\", \"detailClick\"]],\n  template: function BookComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"input\", 0);\n      i0.ɵɵlistener(\"input\", function BookComponent_Template_input_input_2_listener($event) {\n        return ctx.updateBookSearchTerm($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, BookComponent_app_book_card_3_Template, 1, 1, \"app-book-card\", 1);\n      i0.ɵɵpipe(4, \"bookFilter\");\n      i0.ɵɵpipe(5, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate(ctx.title);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(4, 2, i0.ɵɵpipeBind1(5, 5, ctx.books$), ctx.bookSearchTerm));\n    }\n  },\n  dependencies: [i3.NgForOf, i4.BookCardComponent, i3.AsyncPipe, i5.BookFilterPipe],\n  styles: [\".book-filter[_ngcontent-%COMP%] {\\n  display: block;\\n  margin: 1rem;\\n  padding: 12px 20px;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  box-sizing: border-box;\\n}\\n\\nh1[_ngcontent-%COMP%] {\\n  margin: 10px;\\n  margin-left: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb2suY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtFQUNBLHNCQUFBO0FBQ0Y7O0FBQ0E7RUFDRSxZQUFBO0VBQ0EsaUJBQUE7QUFFRiIsImZpbGUiOiJib29rLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJvb2stZmlsdGVyIHtcclxuICBkaXNwbGF5OiBibG9jaztcclxuICBtYXJnaW46IDFyZW07XHJcbiAgcGFkZGluZzogMTJweCAyMHB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuaDEge1xyXG4gIG1hcmdpbjogMTBweDtcclxuICBtYXJnaW4tbGVmdDogMTVweDtcclxufVxyXG4iXX0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;IAIAA;IAGEA;MAAAA;MAAA;MAAA,OAAeA,8CAAf;IAAsC,CAAtC;IACFA;;;;;IAFEA;;;;ACMF,OAAM,MAAOC,aAAP,CAAoB;EAOxBC,YAAoBC,cAApB,EAA2DC,KAA3D,EAAwE;IAApD;IAAuC;IAN3D,aAAQ,mBAAR;IACA,sBAAiB,EAAjB;IACA,aAAe,EAAf;EAI6E;;EAG7EC,WAAW,IACT;EACF;;EAEAC,QAAQ;IAEN,KAAKC,MAAL,GAAc,KAAKJ,cAAL,CAAoBK,MAApB,EAAd;IAEA;;;;;EAKD;;EAEDC,eAAe,CAACC,IAAD,EAAW;IACxB,KAAKN,KAAL,CAAWO,QAAX,CAAoB,CAAC,cAAD,CAApB;IACAC,OAAO,CAACC,KAAR,CAAcH,IAAd;EACD;;EAEDI,oBAAoB,CAACC,KAAD,EAAa;IAC/B,KAAKC,cAAL,GAAuBD,KAAK,CAACE,MAAN,CAAkCC,KAAzD;EACD;;AAhCuB;;;mBAAbjB,eAAaD;AAAA;;;QAAbC;EAAakB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDZ1BvB;MAAIA;MAAWA;MACfA;MAEAA;QAAA,OAASwB,gCAAT;MAAqC,CAArC;MAFAxB;MAGAA;;;;;;MAJIA;MAAAA;MAKeA;MAAAA","names":["i0","BookComponent","constructor","bookApiService","route","ngOnDestroy","ngOnInit","books$","getAll","goToBookDetails","book","navigate","console","table","updateBookSearchTerm","input","bookSearchTerm","target","value","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Jonas\\OneDrive\\Dokumente\\Studium\\studi_repos\\angular_workshop\\bookmonkey-client\\src\\app\\book\\book.component.html","C:\\Users\\Jonas\\OneDrive\\Dokumente\\Studium\\studi_repos\\angular_workshop\\bookmonkey-client\\src\\app\\book\\book.component.ts"],"sourcesContent":["<h1>{{ title }}</h1>\n<input class=\"book-filter\"\nplaceholder=\"Filter your books..\"\n(input)=\"updateBookSearchTerm($event)\">\n<app-book-card\n  *ngFor=\"let book of books$ | async | bookFilter:bookSearchTerm\"\n  [content]=\"book\"\n  (detailClick)=\"goToBookDetails($event)\">\n</app-book-card>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable, Subscription } from 'rxjs';\nimport { BookDetailComponent } from './book-detail/book-detail.component';\nimport { Book } from './models/book';\nimport { BookApiService } from './services/book-api.service';\n\n@Component({\n  selector: 'app-book',\n  templateUrl: './book.component.html',\n  styleUrls: ['./book.component.scss']\n})\nexport class BookComponent implements OnInit, OnDestroy {\n  title = 'Interesting Books';\n  bookSearchTerm = '';\n  books: Book[]= [];\n  books$!: Observable<Book[]>;\n  subscription!: Subscription;\n\n  constructor(private bookApiService:BookApiService, private route: Router) { }\n\n\n  ngOnDestroy(): void {\n    //this.subscription?.unsubscribe();\n }\n\n  ngOnInit(): void {\n\n    this.books$ = this.bookApiService.getAll();\n\n    /* this.subscription = this.bookApiService.getAll().subscribe({\n      next: (books: Book[]) => {this.books = books},\n      error: (error) => {console.error(error)},\n      complete: () => {},\n    }); */\n  }\n\n  goToBookDetails(book: Book){\n    this.route.navigate([`/books/:isbn`]);\n    console.table(book);\n  }\n\n  updateBookSearchTerm(input: Event){\n    this.bookSearchTerm = (input.target as HTMLInputElement).value;\n  }\n\n\n}\n\n\n"]},"metadata":{},"sourceType":"module"}